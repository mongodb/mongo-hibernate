buildvariants:

  - name: static-checker
    tags:
      - ci
    display_name: Static Check
    run_on: rhel80-small
    tasks:
      - name: .static-check

  - name: mongodb_v6.0_standalone
    tags:
      - ci
      - "6.0"
      - standalone
    display_name: MongoDB v6.0 (standalone)
    expansions:
      MONGODB_VERSION: 6.0
      TOPOLOGY: server
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v6.0_replicaset
    tags:
      - ci
      - "6.0"
      - replicaset
    display_name: MongoDB v6.0 (replicaset)
    expansions:
      MONGODB_VERSION: 6.0
      TOPOLOGY: replica_set
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v6.0_sharded-cluster
    tags:
      - ci
      - "6.0"
      - sharded-cluster
    display_name: MongoDB v6.0 (sharded-cluster)
    expansions:
      MONGODB_VERSION: 6.0
      TOPOLOGY: sharded_cluster
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v7.0_standalone
    tags:
      - ci
      - "7.0"
      - standalone
    display_name: MongoDB v7.0 (standalone)
    expansions:
      MONGODB_VERSION: 7.0
      TOPOLOGY: server
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v7.0_replicaset
    tags:
      - ci
      - "7.0"
      - replicaset
    display_name: MongoDB v7.0 (replicaset)
    expansions:
      MONGODB_VERSION: 7.0
      TOPOLOGY: replica_set
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v7.0_sharded-cluster
    tags:
      - ci
      - "7.0"
      - sharded-cluster
    display_name: MongoDB v7.0 (sharded-cluster)
    expansions:
      MONGODB_VERSION: 7.0
      TOPOLOGY: sharded_cluster
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v8.0_standalone
    tags:
      - ci
      - "8.0"
      - standalone
    display_name: MongoDB v8.0 (standalone)
    expansions:
      MONGODB_VERSION: 8.0
      TOPOLOGY: server
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v8.0_replicaset
    tags:
      - ci
      - "8.0"
      - replicaset
    display_name: MongoDB v8.0 (replicaset)
    expansions:
      MONGODB_VERSION: 8.0
      TOPOLOGY: replica_set
    run_on: rhel80-small
    tasks:
      - name: .test

  - name: mongodb_v8.0_sharded-cluster
    tags:
      - ci
      - "8.0"
      - sharded-cluster
    display_name: MongoDB v8.0 (sharded-cluster)
    expansions:
      MONGODB_VERSION: 8.0
      TOPOLOGY: sharded_cluster
    run_on: rhel80-small
    tasks:
      - name: .test

